import{r as i,W as f,j as a}from"./app-fp6qnxH5.js";import{L as j,I as d}from"./InputError-1Pl3FTFx.js";import{s as b}from"./Game.module-sMobTZcd.js";function k({auth:u,game:l,players:m}){const[r,n]=i.useState([]),{data:p,setData:c,patch:h,processing:v,errors:t,reset:g}=f({place:l.place,date:l.date,players:[]}),x=e=>{e.target.checked?n([...r,parseInt(e.target.value)]):n(r.filter(s=>s!==parseInt(e.target.value)))},o=l.players.map(e=>e.id);i.useEffect(()=>{c("players",r)},[r]),i.useEffect(()=>{n([...o])},[]);const y=e=>{e.preventDefault(),h(route("game.edit",[l.id]))};return a.jsxs(j,{auth:u,children:[a.jsxs("form",{onSubmit:y,children:[a.jsxs("label",{children:[a.jsx("input",{id:"place",type:"text",name:"place",placeholder:"Place",value:p.place,autoComplete:"place",onChange:e=>c("place",e.target.value),"aria-invalid":t.place?!0:null}),a.jsx(d,{children:t.place})]}),a.jsxs("label",{className:"mb-4",children:[a.jsx("input",{id:"date",type:"date",name:"date",value:p.date,placeholder:"Date",autoComplete:"date",onChange:e=>c("date",e.target.value),"aria-invalid":t.date?!0:null}),a.jsx(d,{children:t.date})]}),m.map((e,s)=>a.jsxs("label",{className:b.Player,children:[a.jsx("input",{id:`player-${s}`,type:"checkbox",name:`player-${s}`,value:e.id,placeholder:"Date",onChange:x,autoComplete:"date","aria-invalid":t.players?!0:null,defaultChecked:o.includes(e.id)}),e.first_name," ",e.last_name]},s)),a.jsx(d,{children:t.players}),a.jsx("button",{className:"mt-4",type:"submit",children:"Submit"})]}),a.jsx("a",{className:"text-decoration-none",href:route("game.show",[l.id]),children:a.jsx("button",{className:"bg-secondary",children:"Back"})})]})}export{k as default};
